<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
    <!-- https://electronjs.org/docs/tutorial/security#csp-meta-tag -->
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
</head>

<body style="padding: 0; margin: 0">
    <canvas id="canvas"></canvas>
    <script>
        const { nativeImage, ipcRenderer } = require('electron');
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const img = new Image();
        img.src = './glyph.png'
        canvas.width = 1038;
        canvas.height = 32;
        ctx.imageSmoothingQuality = 'high';
let color;
let x = 0;

        setInterval(() => {
            color = color === 'white' ? 'red' : 'white';
            x+=10;
            ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height)
            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
            ctx.font = "12px Roboto";
            ctx.fillStyle = color;
            ctx.fillText("Touch bar game demo....", 40, 11);
            ctx.font = "600 16px Roboto";
            ctx.fillText("Open Hack Day Degica", 40, 29);
            const data = canvas.toDataURL('image/png', 1);
            ipcRenderer.send('newImage', data);

        }, 100)
    </script>
</body>

</html>